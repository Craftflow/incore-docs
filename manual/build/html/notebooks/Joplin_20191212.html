

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Joplin Example Notebook &mdash; IN-CORE Manual 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Seaside Example Notebook 1: Multi-Hazard Building Damage" href="Notebook1_SeasideBuildingDamage.html" />
    <link rel="prev" title="pyIncore Notebooks" href="../notebooks.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> IN-CORE Manual
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../account.html">IN-CORE Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pyincore.html">pyIncore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../incore_lab.html">IN-CORE Lab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webtools.html">IN-CORE Web Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials and Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../notebooks.html">pyIncore Notebooks</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Joplin testbed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#1.-Hazard,-Data,-and-Fragility">1. Hazard, Data, and Fragility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#1(a).-Tornado-Path">1(a). Tornado Path</a></li>
<li class="toctree-l4"><a class="reference internal" href="#1(b).-Building-Archetypes">1(b). Building Archetypes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#1(c).-Fragility-Curves">1(c). Fragility Curves</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#2.-Infrastructure-Damage-Analysis">2. Infrastructure Damage Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#2(a).-Buildings-Damage">2(a). Buildings Damage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#2(b).-Electrical-Power-Facility---Substations-Damage">2(b). Electrical Power Facility - Substations Damage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#2(c).-Electrical-Power-Facility---Poles-Damage">2(c). Electrical Power Facility - Poles Damage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#3.-Monte-Carlo-Simulation">3. Monte Carlo Simulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#3(a).-Building-Failure-Probability">3(a). Building Failure Probability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#3(b).-Building-Damage-Spatial-Distribution-Results">3(b). Building Damage Spatial Distribution Results</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#4.-Infrastructure-Functionality-Analysis">4. Infrastructure Functionality Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#4(a).-Building-Functionality-Probability">4(a). Building Functionality Probability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#4(b).-Building-Functionality-Spatial-Distribution-Results">4(b). Building Functionality Spatial Distribution Results</a></li>
<li class="toctree-l4"><a class="reference internal" href="#4(c).-Physical-Service-Resilience-Metrics">4(c). Physical Service Resilience Metrics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#5.-Economic-analysis">5. Economic analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#5(a).-Computable-General-Equilibrium-(CGE)-Model">5(a). Computable General Equilibrium (CGE) Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#5(b).-Economic-Resilience-Metrics">5(b). Economic Resilience Metrics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#6.-Sociological-Analysis">6. Sociological Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#6(a).-Population-Dislocation-Model">6(a). Population Dislocation Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#6(b).-Sociological-Resilience-Metrics">6(b). Sociological Resilience Metrics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#7.-References">7. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Notebook1_SeasideBuildingDamage.html">Seaside testbed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks_other.html">Other examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../refs.html">Technical References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgement.html">Acknowledgement</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IN-CORE Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../notebooks.html">pyIncore Notebooks</a> &raquo;</li>
        
      <li>Joplin Example Notebook</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/notebooks/Joplin_20191212.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Joplin-Example-Notebook">
<h1>Joplin Example Notebook<a class="headerlink" href="#Joplin-Example-Notebook" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Tornadoes occur at a high frequency in the United States compared with other natural hazards such as earthquakes and tsunamis but have a substantially smaller footprint. Even a single high-intensity tornado can result in high casualty rates and catastrophic economic and social loss.</p></li>
<li><p>The city of Joplin, Missouri, USA, which was hit by an EF-5 tornado on May 22, 2011, was simulated by IN-CORE which is a new computational environment.</p></li>
<li><p>The initial damage prediction utilized the tornado path, tornado fragility curves representative of a 19-archetype building dataset, and EPN datasets.</p></li>
<li><p>The functionality of the infrastructure was lined with a computable general equilibrium economics model that predicts the effect of the damage on specific community resilience metrics in economic terms, and a population dislocation model that provides resilience metrics related to socio-demographics.</p></li>
<li><p>This example demonstrates how users interact with IN-CORE platform.</p></li>
</ul>
<div class="section" id="1.-Hazard,-Data,-and-Fragility">
<h2>1. Hazard, Data, and Fragility<a class="headerlink" href="#1.-Hazard,-Data,-and-Fragility" title="Permalink to this headline">¶</a></h2>
<p>This section introduces the input of infrastructure damage analysis including the tornado path, building dataset, and tornado fragility curves.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="k">import</span> <span class="n">Path</span><span class="p">,</span> <span class="n">PureWindowsPath</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1"># This cell is used to import python libraries to visualize the analysis outputs.</span>
<span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">contextily</span> <span class="k">as</span> <span class="nn">ctx</span>
</pre></div>
</div>
</div>
<div class="section" id="1(a).-Tornado-Path">
<h3>1(a). Tornado Path<a class="headerlink" href="#1(a).-Tornado-Path" title="Permalink to this headline">¶</a></h3>
<p>This figure shows the 2011 Joplin tornado path with EF zones. The tornado path represents the wind speed within the vortex that was estimated to have EF5 wind speeds of more than 200 mph, reducing to EF4 wind speeds as the areas move outward from the vortex, and eventually reaching EF1 zone. (Attary et al. 2018)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">path</span> <span class="o">=</span> <span class="n">PureWindowsPath</span><span class="p">(</span><span class="s1">&#39;5d07cbe9b9219c065b819103\joplin_path_wgs84.shp&#39;</span><span class="p">)</span>
<span class="n">shp_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="n">tornado</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">shp_path</span><span class="p">)</span>
<span class="n">tornado</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">epsg</span><span class="o">=</span><span class="mi">3857</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">tornado</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;ef_rating&#39;</span><span class="p">,</span> <span class="n">categorical</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
C:\Users\lisawang\.conda\envs\pyincoreEnv\lib\site-packages\pyproj\crs.py:77: FutureWarning: &#39;+init=&lt;authority&gt;:&lt;code&gt;&#39; syntax is deprecated. &#39;&lt;authority&gt;:&lt;code&gt;&#39; is the preferred initialization method.
  return _prepare_from_string(&#34; &#34;.join(pjargs))
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_11_1.png" src="../_images/notebooks_Joplin_20191212_11_1.png" />
</div>
</div>
</div>
<div class="section" id="1(b).-Building-Archetypes">
<h3>1(b). Building Archetypes<a class="headerlink" href="#1(b).-Building-Archetypes" title="Permalink to this headline">¶</a></h3>
<p>The 19 archetype buildings are used herein to present the Joplin community. The selected building archetypes consider building characteristics such as footprint area, roof structure, number of stories, and so on. (Attary et al. 2018, Memari et al. 2018)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">img</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;Images/Joplin building archetypes.png&#39;</span><span class="p">)</span>  <span class="c1"># The layout of the building dataset shown in GIS software.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.image.AxesImage at 0x1a185d67978&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_14_1.png" src="../_images/notebooks_Joplin_20191212_14_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">path</span> <span class="o">=</span> <span class="n">PureWindowsPath</span><span class="p">(</span><span class="s1">&#39;joplin_bldg_inventory_v6_LW\joplin_bldg_inventory_v6.shp&#39;</span><span class="p">)</span>
<span class="n">shp_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="n">building</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">shp_path</span><span class="p">)</span>  <span class="c1"># The layout of the building dataset shown in Python.</span>
<span class="n">building</span> <span class="o">=</span> <span class="n">building</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">epsg</span><span class="o">=</span><span class="mi">3857</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">building</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;types&#39;</span><span class="p">,</span> <span class="n">categorical</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
C:\Users\lisawang\.conda\envs\pyincoreEnv\lib\site-packages\pyproj\crs.py:77: FutureWarning: &#39;+init=&lt;authority&gt;:&lt;code&gt;&#39; syntax is deprecated. &#39;&lt;authority&gt;:&lt;code&gt;&#39; is the preferred initialization method.
  return _prepare_from_string(&#34; &#34;.join(pjargs))
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_15_1.png" src="../_images/notebooks_Joplin_20191212_15_1.png" />
</div>
</div>
</div>
<div class="section" id="1(c).-Fragility-Curves">
<h3>1(c). Fragility Curves<a class="headerlink" href="#1(c).-Fragility-Curves" title="Permalink to this headline">¶</a></h3>
<p>The fragility curves of these 19 building types in the four damage states are shown below, which almost cover the whole range of wind speeds associated with tornados. (Attary et al. 2018, Memari et al. 2018)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">img_DS1</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;Images/DS1.png&#39;</span><span class="p">)</span>  <span class="c1"># Damage State 1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img_DS1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">img_DS2</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;Images/DS2.png&#39;</span><span class="p">)</span>  <span class="c1"># Damage State 2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img_DS2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">img_DS3</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;Images/DS3.png&#39;</span><span class="p">)</span>  <span class="c1"># Damage State 3</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img_DS3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">img_DS4</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;Images/DS4.png&#39;</span><span class="p">)</span>  <span class="c1"># Damage State 4</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img_DS4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="2.-Infrastructure-Damage-Analysis">
<h2>2. Infrastructure Damage Analysis<a class="headerlink" href="#2.-Infrastructure-Damage-Analysis" title="Permalink to this headline">¶</a></h2>
<p>The models in this section implement the hindcast of community-level damage to the buildings and Electric Power Network (EPN) for the 2011 Joplin tornado.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pyincore</span> <span class="k">import</span> <span class="n">IncoreClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">IncoreClient</span><span class="p">()</span>  <span class="c1"># The authentication service validates username/password and</span>
                         <span class="c1"># approves users to access to other services.</span>
</pre></div>
</div>
</div>
<div class="section" id="2(a).-Buildings-Damage">
<h3>2(a). Buildings Damage<a class="headerlink" href="#2(a).-Buildings-Damage" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pyincore.analyses.buildingdamage</span> <span class="k">import</span> <span class="n">BuildingDamage</span>  <span class="c1"># Import building damage module integrated into Pyincore.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bldg_dmg</span> <span class="o">=</span> <span class="n">BuildingDamage</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

<span class="n">hazard_type</span> <span class="o">=</span> <span class="s2">&quot;tornado&quot;</span>
<span class="n">hazard_id</span> <span class="o">=</span> <span class="s2">&quot;5d07cbeab9219c065b080930&quot;</span>  <span class="c1"># The simulated EF-5 tornado shows geographical locations and the range</span>
                                        <span class="c1"># of wind speed of tornado hazard in Joplin.</span>

<span class="n">mapping_id</span> <span class="o">=</span> <span class="s2">&quot;5d8942dfb9219c068ea795ea&quot;</span>  <span class="c1"># Create a mapping to assign tornado fragilities to 19 building archetypes.</span>

<span class="n">bldg_dataset_id</span> <span class="o">=</span> <span class="s2">&quot;5d4c61a2b9219c0689a397c9&quot;</span>  <span class="c1"># Load the Joplin building dataset, which is a package of GIS files.</span>

<span class="n">bldg_dmg</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;buildings&quot;</span><span class="p">,</span> <span class="n">bldg_dataset_id</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">result_name</span> <span class="o">=</span> <span class="s2">&quot;Joplin_bldg_dmg_result&quot;</span>
<span class="n">bldg_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;result_name&quot;</span><span class="p">,</span> <span class="n">result_name</span><span class="p">)</span>
<span class="n">bldg_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;mapping_id&quot;</span><span class="p">,</span> <span class="n">mapping_id</span><span class="p">)</span>
<span class="n">bldg_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;hazard_type&quot;</span><span class="p">,</span> <span class="n">hazard_type</span><span class="p">)</span>
<span class="n">bldg_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;hazard_id&quot;</span><span class="p">,</span> <span class="n">hazard_id</span><span class="p">)</span>
<span class="n">bldg_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;num_cpu&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># Define the result name, etc., and choose the number of CPU locally</span>
                                      <span class="c1"># to run the model parallelly.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bldg_dmg</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>  <span class="c1"># Run the building damage module to get building damage results for Joplin in a .csv file format.</span>
                         <span class="c1"># The building damage results herein are referred to fragilities at three damage states (moderate,</span>
                         <span class="c1"># heavy, complete) for 28152 buildings located in Joplin that fall within the tornado path or not.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="2(b).-Electrical-Power-Facility---Substations-Damage">
<h3>2(b). Electrical Power Facility - Substations Damage<a class="headerlink" href="#2(b).-Electrical-Power-Facility---Substations-Damage" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pyincore.analyses.epfdamage.epfdamage</span> <span class="k">import</span> <span class="n">EpfDamage</span> <span class="c1"># Import epf damage module integrated into Pyincore.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hazard_type</span> <span class="o">=</span> <span class="s2">&quot;tornado&quot;</span>
<span class="n">hazard_id</span> <span class="o">=</span> <span class="s2">&quot;5d07cbeab9219c065b080930&quot;</span>  <span class="c1"># The simulated EF-5 tornado shows geographical locations and the range</span>
                                        <span class="c1"># of wind speed of tornado hazard in Joplin.</span>
<span class="n">epf_substations_id</span> <span class="o">=</span> <span class="s2">&quot;5d92355bb9219c06ae7e386a&quot;</span>

<span class="n">mapping_id</span> <span class="o">=</span> <span class="s2">&quot;5d8a326fb9219c068ea798e7&quot;</span>  <span class="c1"># Create a mapping to assign tornado fragilities to substations.</span>

<span class="n">epf_dmg</span> <span class="o">=</span> <span class="n">EpfDamage</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

<span class="n">epf_dmg</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;epfs&quot;</span><span class="p">,</span> <span class="n">epf_substations_id</span><span class="p">)</span>
                               <span class="c1"># Load the Joplin substations dataset, which is a package of GIS files.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">result_name</span> <span class="o">=</span> <span class="s2">&quot;Joplin_epf_substations_dmg_result&quot;</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;result_name&quot;</span><span class="p">,</span> <span class="n">result_name</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;mapping_id&quot;</span><span class="p">,</span> <span class="n">mapping_id</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;hazard_type&quot;</span><span class="p">,</span> <span class="n">hazard_type</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;hazard_id&quot;</span><span class="p">,</span> <span class="n">hazard_id</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;num_cpu&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;fragility_key&quot;</span><span class="p">,</span> <span class="s2">&quot;substations&quot;</span><span class="p">)</span>  <span class="c1"># Define the result name, etc., and choose the number</span>
                                                       <span class="c1"># of CPU locally to run the model parallelly.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">epf_dmg</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>  <span class="c1"># Run the EPF damage module to get substations damage results for Joplin in a .csv file format. The</span>
                        <span class="c1"># substations damage results herein are referred to fragilities at four damage states (insignificant,</span>
                        <span class="c1"># moderate, extensive, complete) for 18 substations located in Joplin that fall within the tornado</span>
                        <span class="c1"># path or not.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="2(c).-Electrical-Power-Facility---Poles-Damage">
<h3>2(c). Electrical Power Facility - Poles Damage<a class="headerlink" href="#2(c).-Electrical-Power-Facility---Poles-Damage" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hazard_type</span> <span class="o">=</span> <span class="s2">&quot;tornado&quot;</span>
<span class="n">hazard_id</span> <span class="o">=</span> <span class="s2">&quot;5d07cbeab9219c065b080930&quot;</span>  <span class="c1"># The simulated EF-5 tornado shows geographical locations and the range</span>
                                        <span class="c1"># of wind speed of tornado hazard in Joplin.</span>
<span class="n">epf_poles_id</span> <span class="o">=</span> <span class="s2">&quot;5d923daab9219c06ae84afb0&quot;</span>  <span class="c1"># Load the Joplin poles dataset, which is a package of GIS files.</span>

<span class="n">mapping_id</span> <span class="o">=</span> <span class="s2">&quot;5d8a326fb9219c068ea798e7&quot;</span>  <span class="c1"># Create a mapping to assign tornado fragilities to poles.</span>

<span class="n">epf_dmg</span> <span class="o">=</span> <span class="n">EpfDamage</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

<span class="n">epf_dmg</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;epfs&quot;</span><span class="p">,</span> <span class="n">epf_poles_id</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">result_name</span> <span class="o">=</span> <span class="s2">&quot;Joplin_epf_poles_dmg_result&quot;</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;result_name&quot;</span><span class="p">,</span> <span class="n">result_name</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;mapping_id&quot;</span><span class="p">,</span> <span class="n">mapping_id</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;hazard_type&quot;</span><span class="p">,</span> <span class="n">hazard_type</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;hazard_id&quot;</span><span class="p">,</span> <span class="n">hazard_id</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;num_cpu&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">epf_dmg</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;fragility_key&quot;</span><span class="p">,</span> <span class="s2">&quot;poles&quot;</span><span class="p">)</span>  <span class="c1"># Define the result name, etc., and choose the number</span>
                                                 <span class="c1"># of CPU locally to run the model parallelly.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">epf_dmg</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>  <span class="c1"># Run the EPF damage module to get poles damage results for Joplin in a .csv file format. The poles</span>
                        <span class="c1"># damage results herein are referred to fragilities at four damage states (insignificant, moderate,</span>
                        <span class="c1"># extensive, complete) for 23857 poles located in Joplin that fall within the tornado path or not.</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="3.-Monte-Carlo-Simulation">
<h2>3. Monte Carlo Simulation<a class="headerlink" href="#3.-Monte-Carlo-Simulation" title="Permalink to this headline">¶</a></h2>
<p>Researchers use Monte Carlo Simulation with 500 iterations as an example to determine the failure probability of buildings reaching damage state 2, damage state 3, and damage state 4. Users can run 10000 samples or even more for brutal-force Monte Carlo Simulation to determine more accurate results of building failure probabilities.</p>
<div class="section" id="3(a).-Building-Failure-Probability">
<h3>3(a). Building Failure Probability<a class="headerlink" href="#3(a).-Building-Failure-Probability" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pyincore.analyses.montecarlofailureprobability</span> <span class="k">import</span> <span class="n">MonteCarloFailureProbability</span>
                                                  <span class="c1"># Import Monte Carlo failure probability module integrated into Pyincore.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mc</span> <span class="o">=</span> <span class="n">MonteCarloFailureProbability</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">mc</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;damage&quot;</span><span class="p">,</span> <span class="s2">&quot;5dbc9525b9219c06dd282637&quot;</span><span class="p">)</span>
                              <span class="c1">#  Load the Joplin building damage results dataset generated from the previous model as an input.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mc</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;result_name&quot;</span><span class="p">,</span> <span class="s2">&quot;tornado_mc_failure_probability_buildings&quot;</span><span class="p">)</span>
<span class="n">mc</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;num_cpu&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">mc</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;num_samples&quot;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">mc</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;damage_interval_keys&quot;</span><span class="p">,</span>                   <span class="c1"># Define the damage states and failure states individually.</span>
                 <span class="p">[</span><span class="s2">&quot;insignific&quot;</span><span class="p">,</span> <span class="s2">&quot;moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;heavy&quot;</span><span class="p">,</span> <span class="s2">&quot;complete&quot;</span><span class="p">])</span>
<span class="n">mc</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;failure_state_keys&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;complete&quot;</span><span class="p">,</span> <span class="s2">&quot;heavy&quot;</span><span class="p">,</span> <span class="s2">&quot;moderate&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mc</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>  <span class="c1"># Run the Monte Carlo Simulation module to obtain the building failure probabilities. The building failure</span>
                   <span class="c1"># probabilities herein only consider the physical damage without the interdependency.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="3(b).-Building-Damage-Spatial-Distribution-Results">
<h3>3(b). Building Damage Spatial Distribution Results<a class="headerlink" href="#3(b).-Building-Damage-Spatial-Distribution-Results" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">img</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;Images/Building damage spatial results.png&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>   <span class="c1"># The layout of the building damage spatial distribution results shown in GIS software.</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.image.AxesImage at 0x24c7026c4e0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_47_1.png" src="../_images/notebooks_Joplin_20191212_47_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">shp_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;joplin_bldg_inventory_v6_LW\joplin_bldg_inventory_v6.shp&#39;</span>
<span class="n">blgs</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">shp_path</span><span class="p">)</span>
<span class="n">blgs</span> <span class="o">=</span> <span class="n">blgs</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">epsg</span><span class="o">=</span><span class="mi">3857</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">blgs</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;failure&#39;</span><span class="p">,</span><span class="n">legend</span><span class="o">=</span><span class="s1">&#39;True&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>   <span class="c1"># The layout of the building damage spatial distribution results shown in Python.</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
C:\Users\lisawang\.conda\envs\pyincoreEnv\lib\site-packages\pyproj\crs.py:77: FutureWarning: &#39;+init=&lt;authority&gt;:&lt;code&gt;&#39; syntax is deprecated. &#39;&lt;authority&gt;:&lt;code&gt;&#39; is the preferred initialization method.
  return _prepare_from_string(&#34; &#34;.join(pjargs))
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_48_1.png" src="../_images/notebooks_Joplin_20191212_48_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="4.-Infrastructure-Functionality-Analysis">
<h2>4. Infrastructure Functionality Analysis<a class="headerlink" href="#4.-Infrastructure-Functionality-Analysis" title="Permalink to this headline">¶</a></h2>
<p>The functionality analysis module right now can be used to calculate building functionality probabilities considering two situations: buildings are in damage and buildings that are not damaged but lose electric power. Whether buildings can receive electrical power is assumed to depend on the interdependency between buildings and substations, between buildings and poles. If both the nearest pole to the building and the substation where buildings belong to its service area are functional,
buildings are considered to be able to receive electric power.</p>
<div class="section" id="4(a).-Building-Functionality-Probability">
<h3>4(a). Building Functionality Probability<a class="headerlink" href="#4(a).-Building-Functionality-Probability" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pyincore.analyses.buildingfunctionality.buildingfunctionality</span> <span class="k">import</span> <span class="n">BuildingFunctionality</span>
                                            <span class="c1"># Import building functionality module integrated into Pyincore.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bldg_func</span> <span class="o">=</span> <span class="n">BuildingFunctionality</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
<span class="n">bldg_func</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;building_damage_mcs_samples&quot;</span><span class="p">,</span> <span class="s2">&quot;5ddc40dfb9219c06d4e28b71&quot;</span><span class="p">)</span>
<span class="n">bldg_func</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;substations_damage_mcs_samples&quot;</span><span class="p">,</span> <span class="s2">&quot;5ddc4255b9219c06d4e38a47&quot;</span><span class="p">)</span>
<span class="n">bldg_func</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;poles_damage_mcs_samples&quot;</span><span class="p">,</span> <span class="s2">&quot;5ddc42cdb9219c06d4e488e9&quot;</span><span class="p">)</span>
   <span class="c1"># Load the datasets of building samples, substation samples, and pole samples. All of the samples are randomly generated</span>
   <span class="c1"># using the Monte Carlo Simulation module introduced in the previous section.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bldg_func</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;interdependency_dictionary&quot;</span><span class="p">,</span> <span class="s2">&quot;5dcf4a34b9219ca5e4118312&quot;</span><span class="p">)</span>
   <span class="c1"># Load the datasets of the interdependency table between buildings and substations, and between buildings and poles.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bldg_func</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;result_name&quot;</span><span class="p">,</span> <span class="s2">&quot;Joplin_mcs_functionality_probability&quot;</span><span class="p">)</span>
<span class="n">bldg_func</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;num_samples&quot;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>   <span class="c1"># Define the result name, and choose the number</span>
                                         <span class="c1"># of CPU locally to run the model parallelly.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bldg_func</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>  <span class="c1"># Run the module to obtain the building functionality probabilities.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="4(b).-Building-Functionality-Spatial-Distribution-Results">
<h3>4(b). Building Functionality Spatial Distribution Results<a class="headerlink" href="#4(b).-Building-Functionality-Spatial-Distribution-Results" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">img</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;Images/Building functionality spatial results.png&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>   <span class="c1"># The layout of the building functionality spatial distribution results shown in GIS software.</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.image.AxesImage at 0x2462df5eb70&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_58_1.png" src="../_images/notebooks_Joplin_20191212_58_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">shp_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;joplin_bldg_inventory_v6_LW\joplin_bldg_inventory_v6.shp&#39;</span>
<span class="n">blgs</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">shp_path</span><span class="p">)</span>
<span class="n">blgs</span> <span class="o">=</span> <span class="n">blgs</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">epsg</span><span class="o">=</span><span class="mi">3857</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">blgs</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;fun&#39;</span><span class="p">,</span><span class="n">legend</span><span class="o">=</span><span class="s1">&#39;True&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>   <span class="c1"># The layout of the building functionality spatial distribution results shown in Python.</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
C:\Users\lisawang\.conda\envs\pyincoreEnv\lib\site-packages\pyproj\crs.py:77: FutureWarning: &#39;+init=&lt;authority&gt;:&lt;code&gt;&#39; syntax is deprecated. &#39;&lt;authority&gt;:&lt;code&gt;&#39; is the preferred initialization method.
  return _prepare_from_string(&#34; &#34;.join(pjargs))
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_59_1.png" src="../_images/notebooks_Joplin_20191212_59_1.png" />
</div>
</div>
</div>
<div class="section" id="4(c).-Physical-Service-Resilience-Metrics">
<h3>4(c). Physical Service Resilience Metrics<a class="headerlink" href="#4(c).-Physical-Service-Resilience-Metrics" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ps</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Results/physical-service.csv&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcdefaults</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">infra</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Percent of building nonfunctional&#39;</span><span class="p">,</span> <span class="s1">&#39;Percent of building in damage&#39;</span><span class="p">,</span> <span class="s1">&#39;Percent of substation in damage&#39;</span><span class="p">,</span>\
         <span class="s1">&#39;Percent of pole in damage&#39;</span><span class="p">)</span>
<span class="n">y_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">infra</span><span class="p">))</span>
<span class="n">performance</span> <span class="o">=</span> <span class="n">ps</span><span class="p">[</span><span class="s1">&#39;percentage&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">performance</span><span class="p">,</span><span class="mi">2</span><span class="p">)):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">performance</span><span class="p">,</span> <span class="n">xerr</span><span class="o">=</span><span class="n">ps</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">y_pos</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">infra</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Failures to Infrastructure&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Physical Service Resilience Metrics Percentage Change&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span><span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  <span class="c1"># Physical service resilience metrics percentage change immediately after the simulated EF-5 tornado.</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_61_0.png" src="../_images/notebooks_Joplin_20191212_61_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="5.-Economic-analysis">
<h2>5. Economic analysis<a class="headerlink" href="#5.-Economic-analysis" title="Permalink to this headline">¶</a></h2>
<div class="section" id="5(a).-Computable-General-Equilibrium-(CGE)-Model">
<h3>5(a). Computable General Equilibrium (CGE) Model<a class="headerlink" href="#5(a).-Computable-General-Equilibrium-(CGE)-Model" title="Permalink to this headline">¶</a></h3>
<p>A computable general equilibrium (CGE) model is based on fundamental economic principles. A CGE model uses multiple data sources to reflect the interactions of households, firms and relevant government entities as they contribute to economic activity. The model is based on (1) utility-maximizing households that supply labor and capital, using the proceeds to pay for goods and services (both locally produced and imported) and taxes; (2) the production sector, with perfectly competitive,
profit-maximizing firms using intermediate inputs, capital, land and labor to produce goods and services for both domestic consumption and export; (3) the government sector that collects taxes and uses tax revenues in order to finance the provision of public services; and (4) the rest of the world.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pyincore.analyses.joplincgeanalysis</span> <span class="k">import</span> <span class="n">JoplinCGEModel</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">joplin_cge</span> <span class="o">=</span> <span class="n">JoplinCGEModel</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Each of the objects with string IDs below refer to datasets used as inputs in the CGE model.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># SAM</span>
<span class="c1"># Social accounting matrix (SAM) contains data for firms, households and government which are organized</span>
<span class="c1"># in a way to represent the interactions of all three entities in a typical economy</span>
<span class="n">SAM</span> <span class="o">=</span> <span class="s2">&quot;5dd85ae7b9219c06d4da8de4&quot;</span>

<span class="c1"># CAPITAL COMP</span>
<span class="c1"># BB is a matrix which describes how investment in physical infrastructure is transformed into functioning capital such as commercial and residential buildings.</span>
<span class="c1"># These data are collected from the Bureau of Economic Analysis (BEA).</span>
<span class="n">BB</span> <span class="o">=</span> <span class="s2">&quot;5dc1e620b9219c06dd2f473a&quot;</span>

<span class="c1"># MISC TABLES</span>
<span class="n">IOUT</span> <span class="o">=</span> <span class="s2">&quot;5dc1e6d8b9219c06dd2f475e&quot;</span>  <span class="c1"># This is matrix that describes the transfer of tax revenue collected by the local government to help finance local government expenditures.</span>
<span class="n">MISC</span> <span class="o">=</span> <span class="s2">&quot;5dc1e736b9219c06dd2f4782&quot;</span>  <span class="c1"># This is the name of a file that contains data for commercial sector employment and physical capital. It also contains data for the number of households and working households in the economy.</span>
<span class="n">MISCH</span> <span class="o">=</span> <span class="s2">&quot;5dc1e7b5b9219c06dd2f47a6&quot;</span>  <span class="c1"># A file that contains elasticities for the supply of labor with respect to paying income taxes.</span>
<span class="n">LANDCAP</span> <span class="o">=</span> <span class="s2">&quot;5dc1e810b9219c06dd2f47ca&quot;</span>  <span class="c1"># Contains information regarding elasticity values for the response of changes in the price of physical capital with respect to the supply of investment.</span>
<span class="n">EMPLOY</span> <span class="o">=</span> <span class="s2">&quot;5dc1e85ab9219c06dd2f47ee&quot;</span>  <span class="c1"># Table name containing data for commercial sector employment.</span>
<span class="n">IGTD</span> <span class="o">=</span> <span class="s2">&quot;5dc1e895b9219c06dd2f4812&quot;</span>  <span class="c1"># This variable represents a matrix describing the transfer of taxes collected to a variable which permits governments to spend the tax revenue on workers and intermediate inputs.</span>
<span class="n">TAUFF</span> <span class="o">=</span> <span class="s2">&quot;5dc1e8eeb9219c06dd2f4836&quot;</span>  <span class="c1"># Represents social security tax rates</span>
<span class="n">TPC</span> <span class="o">=</span> <span class="s2">&quot;5dc1e924b9219c06dd2f485a&quot;</span>  <span class="c1"># Extraneous variable that should be removed from the program</span>
<span class="n">JOBCR</span> <span class="o">=</span> <span class="s2">&quot;5dc1e962b9219c06dd2f487e&quot;</span>  <span class="c1"># This is a matrix describing the supply of workers coming from each household group in the economy.</span>
<span class="n">OUTCR</span> <span class="o">=</span> <span class="s2">&quot;5dc1e9aeb9219c06dd2f48bc&quot;</span>  <span class="c1"># This a matrix describing the number of workers who live in Joplin but commute outside of town to work.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Set analysis input datasets</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;SAM&quot;</span><span class="p">,</span> <span class="n">SAM</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;BB&quot;</span><span class="p">,</span> <span class="n">BB</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;IOUT&quot;</span><span class="p">,</span> <span class="n">IOUT</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;MISC&quot;</span><span class="p">,</span> <span class="n">MISC</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;MISCH&quot;</span><span class="p">,</span> <span class="n">MISCH</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;LANDCAP&quot;</span><span class="p">,</span> <span class="n">LANDCAP</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;EMPLOY&quot;</span><span class="p">,</span> <span class="n">EMPLOY</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;IGTD&quot;</span><span class="p">,</span> <span class="n">IGTD</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;TAUFF&quot;</span><span class="p">,</span> <span class="n">TAUFF</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;TPC&quot;</span><span class="p">,</span> <span class="n">TPC</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;JOBCR&quot;</span><span class="p">,</span> <span class="n">JOBCR</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;OUTCR&quot;</span><span class="p">,</span> <span class="n">OUTCR</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>To know what path to put in “solver_path”: * on <strong>Mac</strong>: open a terminal window, activate your conda environment and type “which ipopt”. Paste the resulting path below. * on <strong>Windows</strong>: open a command terminal, activate your conda environment and type “whereipopt”. Paste the resulting path below.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Set analysis parameters</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;solver_path&quot;</span><span class="p">,</span> <span class="s2">&quot;C:/Users/lisawang/.conda/envs/pyincore/Library/bin/ipopt.exe&quot;</span><span class="p">)</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;model_iterations&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Run Joplin CGE model analysis</span>
<span class="n">joplin_cge</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="5(b).-Economic-Resilience-Metrics">
<h3>5(b). Economic Resilience Metrics<a class="headerlink" href="#5(b).-Economic-Resilience-Metrics" title="Permalink to this headline">¶</a></h3>
<div class="section" id="Percent-Reduction-of-Domestic-Supply">
<h4><em>Percent Reduction of Domestic Supply</em><a class="headerlink" href="#Percent-Reduction-of-Domestic-Supply" title="Permalink to this headline">¶</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Results/domestic-supply.csv&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcdefaults</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">sectors</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Goods&#39;</span><span class="p">,</span> <span class="s1">&#39;Trades&#39;</span><span class="p">,</span> <span class="s1">&#39;Others&#39;</span><span class="p">,</span> <span class="s1">&#39;Housing service 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Housing service 2&#39;</span><span class="p">,</span><span class="s1">&#39;Housing service 3&#39;</span><span class="p">)</span>
<span class="n">y_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sectors</span><span class="p">))</span>
<span class="n">performance</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;percentage&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">performance</span><span class="p">,</span><span class="mi">2</span><span class="p">)):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">performance</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">y_pos</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">sectors</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Percent reduction of domestic supply (%)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Economic Resilience Metrics Percentage Change&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span><span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_75_0.png" src="../_images/notebooks_Joplin_20191212_75_0.png" />
</div>
</div>
</div>
<div class="section" id="Percent-Reduction-of-Household-Income">
<h4><em>Percent Reduction of Household Income</em><a class="headerlink" href="#Percent-Reduction-of-Household-Income" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Results/household-income.csv&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcdefaults</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">household</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;HH1 (less than $15,000)&#39;</span><span class="p">,</span> <span class="s1">&#39;HH2 ($15,000 to 24,999)&#39;</span><span class="p">,</span> <span class="s1">&#39;HH3 ($25,000 to 74,999)&#39;</span><span class="p">,</span> \
           <span class="s1">&#39;HH4 ($75,000 to 99,999)&#39;</span><span class="p">,</span> <span class="s1">&#39;HH5 ($100,000 or more)&#39;</span><span class="p">)</span>
<span class="n">y_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">household</span><span class="p">))</span>
<span class="n">performance</span> <span class="o">=</span> <span class="n">hi</span><span class="p">[</span><span class="s1">&#39;percentage&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">performance</span><span class="p">,</span><span class="mi">1</span><span class="p">)):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v</span><span class="o">+</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">performance</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">y_pos</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">household</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Percent reduction of household income (%)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Economic Resilience Metrics Percentage Change&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span><span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Percent-Reduction-of-Employment">
<h4><em>Percent Reduction of Employment</em><a class="headerlink" href="#Percent-Reduction-of-Employment" title="Permalink to this headline">¶</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">em</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Results/employment.csv&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcdefaults</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">household</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;HH1 (less than $15,000)&#39;</span><span class="p">,</span> <span class="s1">&#39;HH2 ($15,000 to 24,999)&#39;</span><span class="p">,</span> <span class="s1">&#39;HH3 ($25,000 to 74,999)&#39;</span><span class="p">,</span> \
           <span class="s1">&#39;HH4 ($75,000 to 99,999)&#39;</span><span class="p">,</span> <span class="s1">&#39;HH5 ($100,000 or more)&#39;</span><span class="p">)</span>
<span class="n">y_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">household</span><span class="p">))</span>
<span class="n">performance</span> <span class="o">=</span> <span class="n">em</span><span class="p">[</span><span class="s1">&#39;percentage&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">performance</span><span class="p">,</span><span class="mi">2</span><span class="p">)):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v</span><span class="o">+</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">performance</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">y_pos</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">household</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Percent reduction of employment (%)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Economic Resilience Metrics Percentage Change&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span><span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Joplin_20191212_79_0.png" src="../_images/notebooks_Joplin_20191212_79_0.png" />
</div>
</div>
</div>
</div>
</div>
<div class="section" id="6.-Sociological-Analysis">
<h2>6. Sociological Analysis<a class="headerlink" href="#6.-Sociological-Analysis" title="Permalink to this headline">¶</a></h2>
<p>This section introduces how social analysis may be integrated with hazard and building damage analysis. In this example the hazard related damage to buildings generates population dislocation. Population dislocation changes the size and distrubution of a community’s populatin which alters the demand on infrastructure (Guidotti, Rosenheim, and Gardoni 2019; Rosenheim, Guidotti, Gardoni, and Peacock 2019).</p>
<div class="section" id="6(a).-Population-Dislocation-Model">
<h3>6(a). Population Dislocation Model<a class="headerlink" href="#6(a).-Population-Dislocation-Model" title="Permalink to this headline">¶</a></h3>
<p>The population dislocation model depends first on the allocation of detailed housing unit and household characteristic data to each residential building within the community. The allocation of detailed household characteristic data provides an estimate of the number of people that live within each structure. The dislocation model is based on household surveys, for a more detailed summary of the dislocation model please refer to Rosenheim, Guidotti, Gardoni, and Peacock 2019.</p>
<p>The model predicts which households within the community will be dislocated from their homes immediately following the hazardous event.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">pyincore.analyses.populationdislocation</span> <span class="k">import</span> <span class="n">PopulationDislocation</span><span class="p">,</span> <span class="n">PopulationDislocationUtil</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pop_dis</span> <span class="o">=</span> <span class="n">PopulationDislocation</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">building_dmg</span> <span class="o">=</span> <span class="s2">&quot;5dbc9525b9219c06dd282637&quot;</span>
<span class="n">housing_unit_alloc</span> <span class="o">=</span> <span class="s2">&quot;5dc206f6b9219c06dd2f53e4&quot;</span>
<span class="n">bg_data</span> <span class="o">=</span> <span class="s2">&quot;5d4c9545b9219c0689b2358a&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pop_dis</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;building_dmg&quot;</span><span class="p">,</span> <span class="n">building_dmg</span><span class="p">)</span>
<span class="n">pop_dis</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;housing_unit_allocation&quot;</span><span class="p">,</span> <span class="n">housing_unit_alloc</span><span class="p">)</span>
<span class="n">pop_dis</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;block_group_data&quot;</span><span class="p">,</span> <span class="n">bg_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">result_name</span> <span class="o">=</span> <span class="s2">&quot;pop-dislocation-results&quot;</span>
<span class="n">seed</span> <span class="o">=</span> <span class="mi">1111</span>

<span class="n">pop_dis</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;result_name&quot;</span><span class="p">,</span> <span class="n">result_name</span><span class="p">)</span>
<span class="n">pop_dis</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;seed&quot;</span><span class="p">,</span> <span class="n">seed</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pop_dis</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="6(b).-Sociological-Resilience-Metrics">
<h3>6(b). Sociological Resilience Metrics<a class="headerlink" href="#6(b).-Sociological-Resilience-Metrics" title="Permalink to this headline">¶</a></h3>
<div class="section" id="Percent-of-Population-Dislocation">
<h4><em>Percent of Population Dislocation</em><a class="headerlink" href="#Percent-of-Population-Dislocation" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="7.-References">
<h2>7. References<a class="headerlink" href="#7.-References" title="Permalink to this headline">¶</a></h2>
<p>Attary, N., van de Lindt, J. W., Mahmoud, H., Smith, S., Navarro, C. M., Kim, Y. W., &amp; Lee, J. S. (2018). Hindcasting community-level building damage for the 2011 Joplin EF5 tornado. Natural Hazards, 93(3), 1295-1316.</p>
<p>Attary, N., van de Lindt, J. W., Mahmoud, H., &amp; Smith, S. (2018). Hindcasting Community-Level Damage to the Interdependent Buildings and Electric Power Network after the 2011 Joplin, Missouri, Tornado. Natural Hazards Review, 20(1), 04018027.</p>
<p>Memari, M., Attary, N., Masoomi, H., Mahmoud, H., van de Lindt, J. W., Pilkington, S. F., &amp; Ameri, M. R. (2018). Minimal building fragility portfolio for damage assessment of communities subjected to tornadoes. Journal of Structural Engineering, 144(7), 04018072.</p>
<p>Guidotti, R., Gardoni, P., &amp; Rosenheim, N. (2019). Integration of physical infrastructure and social systems in communities’ reliability and resilience analysis. Reliability Engineering &amp; System Safety, 185, 476-492. <a class="reference external" href="https://doi.org/10.1016/j.ress.2019.01.008">https://doi.org/10.1016/j.ress.2019.01.008</a></p>
<p>Rosenheim, N., Guidotti, R., Gardoni, P., &amp; Peacock, W. (2019). Integration of detailed household and housing unit characteristic data with critical infrastructure for post-hazard resilience modeling. Sustainable and Resilient Infrastructure. <a class="reference external" href="https://doi.org/10.1080/23789689.2019.1681821">https://doi.org/10.1080/23789689.2019.1681821</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Notebook1_SeasideBuildingDamage.html" class="btn btn-neutral float-right" title="Seaside Example Notebook 1: Multi-Hazard Building Damage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../notebooks.html" class="btn btn-neutral float-left" title="pyIncore Notebooks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>