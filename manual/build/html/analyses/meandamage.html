

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mean damage &mdash; IN-CORE Manual 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Monte Carlo failure probability" href="montecarlofailureprobability.html" />
    <link rel="prev" title="Joplin Computable General Equilibrium (CGE)" href="joplin_cge.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> IN-CORE Manual
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../account.html">IN-CORE Account</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../pyincore.html">pyIncore</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install_pyincore.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running.html">Testing and Running</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../analyses.html">Analyses</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bridgedamage.html">Bridge damage</a></li>
<li class="toctree-l3"><a class="reference internal" href="buildingdamage.html">Building damage</a></li>
<li class="toctree-l3"><a class="reference internal" href="cumulative_building_damage.html">Cummulative building damage</a></li>
<li class="toctree-l3"><a class="reference internal" href="epfdamage.html">Electric power facility damage</a></li>
<li class="toctree-l3"><a class="reference internal" href="housingunitallocation.html">Housing unit allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="joplin_cge.html">Joplin Computable General Equilibrium (CGE)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Mean damage</a></li>
<li class="toctree-l3"><a class="reference internal" href="montecarlofailureprobability.html">Monte Carlo failure probability</a></li>
<li class="toctree-l3"><a class="reference internal" href="non_structural_building_damage.html">Nonstructural building damage</a></li>
<li class="toctree-l3"><a class="reference internal" href="pipeline_dmg.html">Pipeline damage</a></li>
<li class="toctree-l3"><a class="reference internal" href="pipeline_dmg_w_repair_rate.html">Pipeline damage with repair rate</a></li>
<li class="toctree-l3"><a class="reference internal" href="populationdislocation.html">Population dislocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="portfolio_recovery.html">Portfolio recovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="tornadoepndamage.html">Tornado Electric Power Network (EPN) damage</a></li>
<li class="toctree-l3"><a class="reference internal" href="transportation_recovery.html">Transportation recovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="waterfacilitydamagev1.html">Water facility damage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../incore_lab.html">IN-CORE Lab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webtools.html">IN-CORE Web Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials and Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks.html">Example Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refs.html">Technical References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgement.html">Acknowledgement</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IN-CORE Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../pyincore.html">pyIncore</a> &raquo;</li>
        
          <li><a href="../analyses.html">Analyses</a> &raquo;</li>
        
      <li>Mean damage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/analyses/meandamage.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="mean-damage">
<h1>Mean damage<a class="headerlink" href="#mean-damage" title="Permalink to this headline">Â¶</a></h1>
<p>This analysis computes mean damage of infrastructure based on a particular hazard such as earthquake, tsunami, tornado, etc.</p>
<p>The process for computing the structural damage uses mean damage and standard deviation values from damage ratios tables.
The four damage state probabilities are multiplied by the mean damage and aggregated to get the Mean damage for
each individual structure (building, bridge, waterfacility etc.).</p>
<p>The output of this analysis is a CSV file with probabilities of damage.</p>
<p><strong>Input parameters</strong></p>
<table border="1" class="docutils">
<thead>
<tr>
<th>key name</th>
<th>type</th>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>result_name</code> <sup>*</sup></td>
<td><code>str</code></td>
<td>Result name</td>
<td>Name of the result dataset.</td>
</tr>
<tr>
<td><code>damage_interval_keys</code> <sup>*</sup></td>
<td><code>list</code></td>
<td>Damage ratio</td>
<td>Names of the four damage intervals.</td>
</tr>
<tr>
<td><code>num_cpu</code></td>
<td><code>int</code></td>
<td>Number of CPUs</td>
<td>Number of CPUs used for parallel computation. <br>Default is <em>1</em>.</td>
</tr>
</tbody>
</table><p><strong>Input datasets</strong></p>
<table border="1" class="docutils">
<thead>
<tr>
<th>key name</th>
<th>type</th>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>damage</code> <sup>*</sup></td>
<td><code>ergo:nsBuildingInventoryDamage</code><br><code>ergo:bridgeDamage</code><br><code>ergo:waterFacilityDamageVer4</code><br><code>ergo:roadDamage</code><br><code>incore:epfVer1</code><br><code>incore:pipelineDamage</code><br><code>ergo:waterFacilityDamageVer4</code></td>
<td>Infrastructure dataset</td>
<td>An infrastructure dataset.</td>
</tr>
<tr>
<td><code>dmg_ratios</code> <sup>*</sup></td>
<td><code>ergo:buildingDamageRatios</code><br><code>ergo:bridgeDamageRatios</code><br><code>ergo:buildingContentDamageRatios</code><br><code>ergo:buildingASDamageRatios</code><br><code>ergo:buildingDSDamageRatios</code><br><code>ergo:roadDamageRatios</code></td>
<td>Damage ratios</td>
<td>A damage ratios dataset.</td>
</tr>
</tbody>
</table>
<p><strong>Output datasets</strong></p><table border="1" class="docutils">
<thead>
<tr>
<th>key name</th>
<th>type</th>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>result</code> <sup>*</sup></td>
<td><code>ergo:meanDamage</code></td>
<td>Results</td>
<td>A dataset containing results <br>(format: CSV).</td>
</tr>
</tbody>
</table><p><small>(* required)</small></p>
<p><strong>Execution</strong></p>
<p>code snipet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="c1"># Create mean damage instance</span>
    <span class="n">md</span> <span class="o">=</span> <span class="n">MeanDamage</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>

    <span class="c1"># Load input datasets</span>
    <span class="n">md</span><span class="o">.</span><span class="n">set_input_dataset</span><span class="p">(</span><span class="s2">&quot;damage&quot;</span><span class="p">,</span> <span class="n">bridge_damage_result</span><span class="p">)</span>
    <span class="n">bldg_dmg</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;bridges&quot;</span><span class="p">,</span> <span class="n">bridge_dataset_id</span><span class="p">)</span>
    <span class="n">md</span><span class="o">.</span><span class="n">load_remote_input_dataset</span><span class="p">(</span><span class="s2">&quot;dmg_ratios&quot;</span><span class="p">,</span> <span class="n">dmg_ratios_id</span><span class="p">)</span>

    <span class="c1"># Specify the result name</span>
    <span class="n">result_name</span> <span class="o">=</span> <span class="s2">&quot;result_name&quot;</span>

    <span class="c1"># Set analysis parameters</span>
    <span class="n">md</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;result_name&quot;</span><span class="p">,</span> <span class="s2">&quot;bridge_mean_damage&quot;</span><span class="p">)</span>
    <span class="n">md</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;damage_interval_keys&quot;</span><span class="p">,[</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="s2">&quot;ds-slight&quot;</span><span class="p">,</span> <span class="s2">&quot;ds-moderat&quot;</span><span class="p">,</span> <span class="s2">&quot;ds-extensi&quot;</span><span class="p">,</span><span class="s2">&quot;ds-complet&quot;</span><span class="p">])</span>
    <span class="n">md</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;num_cpu&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Run mean damage analysis</span>
    <span class="n">md</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>
</pre></div>
</div>
<p>full analysis: <a class="reference external" href="https://github.com/IN-CORE/pyincore/blob/master/pyincore/analyses/meandamage/test_mean_damage.ipynb">test_meandamage.ipynb</a></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="montecarlofailureprobability.html" class="btn btn-neutral float-right" title="Monte Carlo failure probability" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="joplin_cge.html" class="btn btn-neutral float-left" title="Joplin Computable General Equilibrium (CGE)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>